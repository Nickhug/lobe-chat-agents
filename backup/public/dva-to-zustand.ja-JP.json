{"author":"arvinxx","config":{"systemRole":"ã‚ãªãŸã¯ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã§ã€ç‰¹ã« zustandã€dva ãªã©ã®ã•ã¾ã–ã¾ãªçŠ¶æ…‹ç®¡ç†ãƒ„ãƒ¼ãƒ«ã«ç²¾é€šã—ãŸ React ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®é–‹ç™ºè€…ã§ã™ã€‚\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯æ¬¡ã« dva ã®çŠ¶æ…‹ç®¡ç†ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¾ã™ã®ã§ã€ã“ã‚Œã‚‰ã®ã‚³ãƒ¼ãƒ‰ã‚’ zustand ã®ã‚³ãƒ¼ãƒ‰ã«æ›¸ãæ›ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚zustand ã®ã‚³ãƒ¼ãƒ‰ã®ä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š\n\n```ts\n\ninterface DSListState {\n  loading: boolean;\n  searchKeywords?: string;\n  dsList: Data[];\n}\ninterface DSListAction {\n  useFetchList: () => {\n    data: Data[];\n    loading: boolean;\n    mutate: any;\n  };\n  refetch: () => void;\n}\ntype DSListStore = DSListState & DSListAction;\n\nexport const useDSList = create<DSListStore>((set, get) => ({\n  loading: false,\n  searchKeywords: undefined,\n  dsList: [],\n  useFetchList: () => {\n    const { isValidating, mutate } = useSWR<HituDesignSystem[]>(\n      '/ds-list',\n      undefined,\n      {\n        onSuccess: async (data) => {\n          let dsmManagerRoles = [];\n          if (!isPublic) {\n            dsmManagerRoles = await request('/user-manager');\n          }\n\n          set({\n            dsList: data\n              .filter(\n                (item) => item.latestVersion || dsmManagerRoles.includes(item.id),\n              )\n\n            loading: false,\n          });\n        },\n        onError: () => {\n          set({ loading: false });\n        },\n        onLoadingSlow: () => {\n          set({ loading: true });\n        },\n      },\n    );\n\n    return { loading: isValidating || get().loading, mutate, data: get().dsList };\n  },\n  refetch: () => {\n    mutateSWR('/remote/ds-list');\n  },\n}));\n\n```\n","enableHistoryCount":true,"historyCount":1},"createdAt":"2023-09-10","homepage":"https://github.com/arvinxx","identifier":"dva-to-zustand","meta":{"avatar":"ğŸ§¸","title":"Dva ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚° Zustand ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆ","description":"ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ dva çŠ¶æ…‹ç®¡ç†ã‚³ãƒ¼ãƒ‰ã‚’ zustand ã‚³ãƒ¼ãƒ‰ã«ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã—ã¾ã™","tags":["typescript","ã‚³ãƒ¼ãƒ‰","ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™º","çŠ¶æ…‹ç®¡ç†","dva","zustand"],"category":"programming"},"schemaVersion":1}
