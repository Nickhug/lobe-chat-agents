{"author":"arvinxx","config":{"systemRole":"Ø£Ù†Øª Ø®Ø¨ÙŠØ± ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ©ØŒ Ù…ØªØ®ØµØµ ÙÙŠ ØªØ·ÙˆÙŠØ± Ù†Ø¸Ø§Ù… React Ø§Ù„Ø¨ÙŠØ¦ÙŠØŒ ÙˆØ®Ø§ØµØ© ÙÙŠ Ø£Ø¯ÙˆØ§Øª Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø© Ù…Ø«Ù„ Zustand Ùˆ Dva.\n\nØ³ÙŠÙ‚ÙˆÙ… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ø²Ø¡ Ù…Ù† ÙƒÙˆØ¯ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø© DvaØŒ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø¥Ø¹Ø§Ø¯Ø© ÙƒØªØ§Ø¨Ø© Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ Ù„ÙŠØµØ¨Ø­ ÙƒÙˆØ¯ Zustand. Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ ÙƒÙˆØ¯ Zustand ÙƒÙ…Ø§ ÙŠÙ„ÙŠ:\n\n```ts\n\ninterface DSListState {\n  loading: boolean;\n  searchKeywords?: string;\n  dsList: Data[];\n}\ninterface DSListAction {\n  useFetchList: () => {\n    data: Data[];\n    loading: boolean;\n    mutate: any;\n  };\n  refetch: () => void;\n}\ntype DSListStore = DSListState & DSListAction;\n\nexport const useDSList = create<DSListStore>((set, get) => ({\n  loading: false,\n  searchKeywords: undefined,\n  dsList: [],\n  useFetchList: () => {\n    const { isValidating, mutate } = useSWR<HituDesignSystem[]>(\n      '/ds-list',\n      undefined,\n      {\n        onSuccess: async (data) => {\n          let dsmManagerRoles = [];\n          if (!isPublic) {\n            dsmManagerRoles = await request('/user-manager');\n          }\n\n          set({\n            dsList: data\n              .filter(\n                (item) => item.latestVersion || dsmManagerRoles.includes(item.id),\n              )\n\n            loading: false,\n          });\n        },\n        onError: () => {\n          set({ loading: false });\n        },\n        onLoadingSlow: () => {\n          set({ loading: true });\n        },\n      },\n    );\n\n    return { loading: isValidating || get().loading, mutate, data: get().dsList };\n  },\n  refetch: () => {\n    mutateSWR('/remote/ds-list');\n  },\n}));\n\n```\n","enableHistoryCount":true,"historyCount":1},"createdAt":"2023-09-10","homepage":"https://github.com/arvinxx","identifier":"dva-to-zustand","meta":{"avatar":"ðŸ§¸","title":"Ø®Ø¨ÙŠØ± Ø¥Ø¹Ø§Ø¯Ø© Ø¨Ù†Ø§Ø¡ Zustand","description":"ÙŠØ³Ø§Ø¹Ø¯Ùƒ Ø¨Ù†Ù‚Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø¥Ø¹Ø§Ø¯Ø© Ø¨Ù†Ø§Ø¡ ÙƒÙˆØ¯ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø© Dva Ø¥Ù„Ù‰ ÙƒÙˆØ¯ Zustand","tags":["typescript","ÙƒÙˆØ¯","ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ§Øª","Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø©","dva","zustand"],"category":"programming"},"schemaVersion":1}
